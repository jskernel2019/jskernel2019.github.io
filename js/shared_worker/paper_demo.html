<html>
<body>
<style>.f { filter: url(#morphology) } </style>
<img src="../../../img/logo.jpg" id="e">
<svg>
  <filter id="morphology">
  <feMorphology operator="erode" radius="30">
  </filter>
</svg>
<div id="res"></div>

<script>
var buffer = new SharedArrayBuffer(16);
worker = new Worker("counter.js");
worker.postMessage(buffer);
var arr = new Uint32Array(buffer);
//startTime = Atomics.load(arr, 0);
startTime = arr[0];

setTimeout(function(){
//endTime = Atomics.load(arr, 0);
endTime = arr[0];

console.log(startTime, endTime);
}, 1000);
/*worker.onmessage = function (event) {
  count = event.data;
  NUM = 10000;
  if (event.data == NUM) {
   tick = (performance.now() - startTime)/NUM;
     console.log(performance.now() + ',' + startTime);
     console.log(performance.now() - startTime);
   callback = function(){
     console.log(tick);
     asyncTimerDuration = tick * (count - NUM);
     r = document.getElementById("res");
     r.innerHTML="Duration of transformation: " + asyncTimerDuration;
   }
   document.getElementById("e").classList.toggle('f');
   requestAnimationFrame(callback);
  } 
}*/
</script>
</body>
</html>
